!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("bootstrap"),require("jquery")):"function"==typeof define&&define.amd?define(["exports","bootstrap","jquery"],e):e((t=t||self).bootprompt={},null,t.$)}(this,function(t,e,o){"use strict";o=o&&o.hasOwnProperty("default")?o.default:o;var r=function(){return(r=Object.assign||function(t){for(var e,o=1,r=arguments.length;o<r;o++)for(var a in e=arguments[o])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},a=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],o=0;return e?e.call(t):{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}}},n=["OK","CANCEL","CONFIRM"],i=Object.create(null),l=void 0!==Object.assign?function(t,e){return Object.assign(t,e)}:function(t,e){return o.extend(t,e)},s={dialog:'<div class="bootprompt modal" tabindex="-1" role="dialog" aria-hidden="true"> <div class="modal-dialog">  <div class="modal-content">   <div class="modal-body"><div class="bootprompt-body"></div></div>  </div> </div></div>',header:'<div class="modal-header"> <h5 class="modal-title"></h5></div>',footer:'<div class="modal-footer"></div>',closeButton:'\n<button type="button" class="bootprompt-close-button close" aria-hidden="true">&times;</button>',form:'<form class="bootprompt-form"></form>',button:'<button type="button" class="btn"></button>',option:"<option></option>",promptMessage:'<div class="bootprompt-prompt-message"></div>',inputs:{text:'<input class="bootprompt-input bootprompt-input-text form-control" autocomplete="off" type="text" />',textarea:'<textarea class="bootprompt-input bootprompt-input-textarea form-control"></textarea>',email:'<input class="bootprompt-input bootprompt-input-email form-control" autocomplete="off" type="email" />',select:'<select class="bootprompt-input bootprompt-input-select form-control"></select>',checkbox:'<div class="form-check checkbox"><label class="form-check-label"> <input class="form-check-input bootprompt-input bootprompt-input-checkbox"\n        type="checkbox" /></label></div>',radio:'<div class="form-check radio"><label class="form-check-label"><input class="form-check-input bootprompt-input bootprompt-input-radio"        type="radio" name="bootprompt-radio" /></label></div>',date:'<input class="bootprompt-input bootprompt-input-date form-control" autocomplete="off" type="date" />',time:'<input class="bootprompt-input bootprompt-input-time form-control" autocomplete="off" type="time" />',number:'<input class="bootprompt-input bootprompt-input-number form-control"        autocomplete="off" type="number" />',password:'<input class="bootprompt-input bootprompt-input-password form-control" autocomplete="off" type="password" />',range:'<input class="bootprompt-input bootprompt-input-range form-control-range"\nautocomplete="off" type="range" />'}},p={locale:"en",backdrop:"static",animate:!0,className:void 0,closeButton:!0,show:!0,container:"body",value:void 0,inputType:"text",swapButtonOrder:!1,centerVertical:!1,multiple:!1};function c(t,e){var o,r;try{for(var l=a(n),s=l.next();!s.done;s=l.next()){var p=s.value;if("string"!=typeof e[p])throw new Error('Please supply a translation for "'+p+'"')}}catch(t){o={error:t}}finally{try{s&&!s.done&&(r=l.return)&&r.call(l)}finally{if(o)throw o.error}}i[t]=e}function u(t,e){2===arguments.length?p[t]=e:l(p,t)}var d=o.fn.modal;if(void 0===d)throw new Error('"$.fn.modal" is not defined; please double check you have included the Bootstrap JavaScript library. See http://getbootstrap.com/javascript/ for more details.');if(!d.Constructor.VERSION)throw new Error("Bootprompt cannot determine the version of Bootstrap used");var f=d.Constructor.VERSION,m=Number(f.substring(0,f.indexOf(".")));if(m<3)throw new Error("Bootprompt does not work with Bootstrap 2 and lower.");function v(t){var e,n,i,l,c=function(t){if("object"!=typeof t)throw new Error("Please supply an object of options");if(void 0===t.message)throw new Error("Please specify a message");var e=r({},p,t),o=e.buttons;void 0===o&&(o=e.buttons=Object.create(null));var a=Object.keys(o).length,n=0;for(var i in o){var l=o[i];if("function"==typeof l&&(l=o[i]={callback:l}),"object"!=typeof l)throw new Error('button with key "'+i+'" must be an object');if(void 0===l.label&&(l.label=i),void 0===l.className){var s=n===(!0===e.swapButtonOrder?0:a-1);l.className=a<=2&&s?"btn-primary":"btn-secondary btn-default"}n++}return e}(t),u=o(s.dialog),d=u[0],v=d.getElementsByClassName("modal-dialog")[0],b=d.getElementsByClassName("modal-body")[0],h=o(s.footer)[0],O={onEscape:c.onEscape},C=c.buttons,y=c.backdrop,N=c.className,E=c.closeButton,g=c.message,k=c.size,K=c.title,A=b.getElementsByClassName("bootprompt-body")[0];"string"==typeof g?A.innerHTML=g:(A.innerHTML="",o(A).append(g));var L=!1;for(var x in C){L=!0;var M=C[x],I=o(s.button),R=I[0];I.data("bp-handler",x);try{for(var F=a(M.className.split(" ")),B=F.next();!B.done;B=F.next()){var T=B.value;R.classList.add(T)}}catch(t){e={error:t}}finally{try{B&&!B.done&&(n=F.return)&&n.call(F)}finally{if(e)throw e.error}}switch(x){case"ok":case"confirm":R.classList.add("bootprompt-accept");break;case"cancel":R.classList.add("bootprompt-cancel")}R.innerHTML=M.label,h.appendChild(R),O[x]=M.callback}if(L&&b.parentNode.insertBefore(h,b.nextSibling),!0===c.animate&&d.classList.add("fade"),void 0!==N)try{for(var q=a(N.split(" ")),j=q.next();!j.done;j=q.next()){T=j.value;d.classList.add(T)}}catch(t){i={error:t}}finally{try{j&&!j.done&&(l=q.return)&&l.call(q)}finally{if(i)throw i.error}}if(void 0!==k)switch(f.substring(0,3)<"3.1"&&console.warn('"size" requires Bootstrap 3.1.0 or higher. You appear to be using '+f+". Please upgrade to use this option."),k){case"large":v.classList.add("modal-lg");break;case"small":v.classList.add("modal-sm");break;default:throw new Error("unknown size value: "+k)}if(void 0!==K){b.parentNode.insertBefore(o(s.header)[0],b);var P=d.getElementsByClassName("modal-title")[0];"string"==typeof K?P.innerHTML=K:(P.innerHTML="",o(P).append(K))}if(!0===E){var S=o(s.closeButton)[0];if(void 0!==K){var z=d.getElementsByClassName("modal-header")[0];m>3?z.appendChild(S):z.insertBefore(S,z.firstChild)}else b.insertBefore(S,b.firstChild)}return void 0!==c.centerVertical&&(f<"4.0.0"&&console.warn('"centerVertical" requires Bootstrap 4.0.0 or higher. You appear to be using '+f+". Please upgrade to use this option."),v.classList.add("modal-dialog-centered")),u.one("hide.bs.modal",function(t){t.target===this&&(u.off("escape.close.bp"),u.off("click"))}),u.one("hidden.bs.modal",function(t){t.target===this&&u.remove()}),u.one("shown.bs.modal",function(){o(d.querySelector(".btn-primary")).trigger("focus")}),"static"!==y&&u.on("click.dismiss.bs.modal",function(t){var e=d.getElementsByClassName("modal-backdrop"),o=0!==e.length?e[0]:t.currentTarget;t.target===o&&u.trigger("escape.close.bp")}),u.on("escape.close.bp",function(t){!0!==O.onEscape&&"function"!=typeof O.onEscape||w(t,u,O.onEscape)}),u.on("click",".modal-footer button",function(t){var e=o(this).data("bp-handler");w(t,u,O[e])}),u.on("click",".bootprompt-close-button",function(t){w(t,u,O.onEscape)}),u.on("keyup",function(t){27===t.which&&u.trigger("escape.close.bp")}),o(c.container).append(u),u.modal({backdrop:(!0===y||"static"===y)&&"static",keyboard:!1,show:!1}),!0===c.show&&u.modal("show"),u}function b(t){var e,o;try{for(var r=a(t),n=r.next();!n.done;n=r.next()){var i=n.value,l=i.value,s=i.text;if(void 0===l||void 0===s)throw new Error('each option needs a "value" and a "text" property');if("number"==typeof l)throw new Error('bootprompt does not allow numbers for "value" in inputOptions')}}catch(t){e={error:t}}finally{try{n&&!n.done&&(o=r.return)&&o.call(r)}finally{if(e)throw e.error}}}function h(t,e){var o=i[e];return void 0!==o?o[t]:i.en[t]}function O(t,e){var o,r,n=Object.create(null);try{for(var i=a(t),l=i.next();!l.done;l=i.next()){var s=l.value;n[s.toLowerCase()]={label:h(s.toUpperCase(),e)}}}catch(t){o={error:t}}finally{try{l&&!l.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return n}function C(t,e,r,a,n){var i,l,s;"string"!=typeof a?(l=void 0!==a.locale?a.locale:p.locale,s=void 0!==a.swapButtonOrder?a.swapButtonOrder:p.swapButtonOrder):(l=p.locale,s=p.swapButtons);var c=s?e.slice().reverse():e,u={className:"bootprompt-"+t,buttons:O(c,l)},d=o.extend(!0,{},u,void 0!==n||"string"==typeof a?((i={__proto__:null})[r[0]]=a,i[r[1]]=n,i):a);for(var f in d.buttons)if(-1===c.indexOf(f))throw new Error('button key "'+f+'" is not allowed (options are '+c.join(" ")+")");return d}function y(t){throw new Error('"max" must be greater than "min". See https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#attr-'+t+" for more information.")}function w(t,e,o){t.stopPropagation(),t.preventDefault(),"function"==typeof o&&!1===o.call(e,t)||e.modal("hide")}function N(t,e,o){var r=o[e];if(void 0!==r){var a=o["min"===e?"max":"min"];t.attr(e,r);var n=o.min,i=o.max;switch(o.inputType){case"date":/(\d{4})-(\d{2})-(\d{2})/.test(r)||console.warn('Browsers which natively support the "date" input type expect date values to be of the form "YYYY-MM-DD" (see ISO-8601 https://www.iso.org/iso-8601-date-and-time-format.html). Bootprompt does not enforce this rule, but your '+e+" value may not be enforced by this browser.");break;case"time":if(!/([01][0-9]|2[0-3]):[0-5][0-9]?:[0-5][0-9]/.test(r))throw new Error('"'+e+'" is not a valid time. See https://www.w3.org/TR/2012/WD-html-markup-20120315/datatypes.html#form.data.time for more information.');if(!(void 0===a||i>n))return y(e);break;default:if(isNaN(r))throw new Error('"'+e+'" must be a valid number. See https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#attr-'+e+" for more information.");var l=Number(n),s=Number(i);if(!(void 0===a||s>l||isNaN(a)))return y(e)}}}c("en",{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"}),c("ar",{OK:"موافق",CANCEL:"الغاء",CONFIRM:"تأكيد"}),c("az",{OK:"OK",CANCEL:"İmtina et",CONFIRM:"Təsdiq et"}),c("bg_BG",{OK:"Ок",CANCEL:"Отказ",CONFIRM:"Потвърждавам"}),c("cs",{OK:"OK",CANCEL:"Zrušit",CONFIRM:"Potvrdit"}),c("da",{OK:"OK",CANCEL:"Annuller",CONFIRM:"Accepter"}),c("de",{OK:"OK",CANCEL:"Abbrechen",CONFIRM:"Akzeptieren"}),c("el",{OK:"Εντάξει",CANCEL:"Ακύρωση",CONFIRM:"Επιβεβαίωση"}),c("en",{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"}),c("es",{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Aceptar"}),c("et",{OK:"OK",CANCEL:"Katkesta",CONFIRM:"OK"}),c("eu",{OK:"OK",CANCEL:"Ezeztatu",CONFIRM:"Onartu"}),c("fa",{OK:"قبول",CANCEL:"لغو",CONFIRM:"تایید"}),c("fi",{OK:"OK",CANCEL:"Peruuta",CONFIRM:"OK"}),c("fr",{OK:"OK",CANCEL:"Annuler",CONFIRM:"Confirmer"}),c("he",{OK:"אישור",CANCEL:"ביטול",CONFIRM:"אישור"}),c("hr",{OK:"OK",CANCEL:"Odustani",CONFIRM:"Potvrdi"}),c("hu",{OK:"OK",CANCEL:"Mégsem",CONFIRM:"Megerősít"}),c("id",{OK:"OK",CANCEL:"Batal",CONFIRM:"OK"}),c("it",{OK:"OK",CANCEL:"Annulla",CONFIRM:"Conferma"}),c("ja",{OK:"OK",CANCEL:"キャンセル",CONFIRM:"確認"}),c("ko",{OK:"OK",CANCEL:"취소",CONFIRM:"확인"}),c("lt",{OK:"Gerai",CANCEL:"Atšaukti",CONFIRM:"Patvirtinti"}),c("lv",{OK:"Labi",CANCEL:"Atcelt",CONFIRM:"Apstiprināt"}),c("nl",{OK:"OK",CANCEL:"Annuleren",CONFIRM:"Accepteren"}),c("no",{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"}),c("pl",{OK:"OK",CANCEL:"Anuluj",CONFIRM:"Potwierdź"}),c("pt-br",{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Sim"}),c("pt",{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Confirmar"}),c("ru",{OK:"OK",CANCEL:"Отмена",CONFIRM:"Подтвердить"}),c("sk",{OK:"OK",CANCEL:"Zrušiť",CONFIRM:"Potvrdiť"}),c("sl",{OK:"OK",CANCEL:"Prekliči",CONFIRM:"Potrdi"}),c("sq",{OK:"OK",CANCEL:"Anulo",CONFIRM:"Prano"}),c("sv",{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"}),c("th",{OK:"ตกลง",CANCEL:"ยกเลิก",CONFIRM:"ยืนยัน"}),c("tr",{OK:"Tamam",CANCEL:"İptal",CONFIRM:"Onayla"}),c("uk",{OK:"OK",CANCEL:"Відміна",CONFIRM:"Прийняти"}),c("zh_CN",{OK:"OK",CANCEL:"取消",CONFIRM:"确认"}),c("zh_TW",{OK:"OK",CANCEL:"取消",CONFIRM:"確認"}),t.VERSION="5.0.0-rc.1",t.locales=function(t){return void 0!==t?i[t]:i},t.addLocale=c,t.removeLocale=function(t){if("en"===t)throw new Error('"en" is used as the default and fallback locale and cannot be removed.');delete i[t]},t.setLocale=function(t){u("locale",t)},t.setDefaults=u,t.hideAll=function(){o(".bootprompt").modal("hide")},t.dialog=v,t.alert=function(t,e){var o=C("alert",["ok"],["message","callback"],t,e),r=o.callback;if(void 0!==r&&"function"!=typeof r)throw new Error("alert requires callback property to be a function when provided");return o.buttons.ok.callback=o.onEscape=function(){return"function"!=typeof r||r.call(this)},v(o)},t.confirm=function(t,e){var o=C("confirm",["cancel","confirm"],["message","callback"],t,e),r=o.callback,a=o.buttons;if("function"!=typeof r)throw new Error("confirm requires a callback");return a.cancel.callback=o.onEscape=function(){return r.call(this,!1)},a.confirm.callback=function(){return r.call(this,!0)},v(o)},t.prompt=function(t,e){var r=C("prompt",["cancel","confirm"],["title","callback"],t,e);if(void 0===r.value&&(r.value=p.value),"number"==typeof r.value)throw new Error("bootprompt does not allow numbers as values");void 0===r.inputType&&(r.inputType=p.inputType);var n=void 0===r.show?p.show:r.show;if(r.show=!1,void 0===r.title||""===r.title)throw new Error("prompt requires a title");var i=r.callback,l=r.buttons;if("function"!=typeof i)throw new Error("prompt requires a callback");void 0===r.inputType&&(r.inputType="text");var c,u=s.inputs[r.inputType];switch(r.inputType){case"text":case"textarea":case"email":case"password":!function(t,e){var o=e.value,r=e.placeholder,a=e.pattern,n=e.maxlength,i=e.required;t.val(o),void 0!==r&&t.attr("placeholder",r),void 0!==a&&t.attr("pattern",a),void 0!==n&&t.attr("maxlength",n),!0===i&&t.prop({required:!0})}(c=o(u),r);break;case"date":case"time":case"number":case"range":!function(t,e){var o=e.value,r=e.placeholder,a=e.pattern,n=e.required,i=e.inputType;if(void 0!==o&&t.val(String(o)),void 0!==r&&t.attr("placeholder",r),void 0!==a&&t.attr("pattern",a),!0===n&&t.prop({required:!0}),"date"!==i){var l=e.step;if(void 0!==l){var s=Number(l);if(!("any"===l||!isNaN(s)&&s>0))throw new Error('"step" must be a valid positive number or the value "any". See https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#attr-step for more information.');t.attr("step",l)}}N(t,"min",e),N(t,"max",e)}(c=o(u),r);break;case"select":!function(t,e){var r,n,i=void 0!==e.inputOptions?e.inputOptions:[];if(!Array.isArray(i))throw new Error("Please pass an array of input options");if(0===i.length)throw new Error("prompt with select requires at least one option value");var l,p=e.required,c=e.multiple;!0===p&&t.prop({required:!0}),!0===c&&t.prop({multiple:!0}),b(i);var u=Object.create(null);try{for(var d=a(i),f=d.next();!f.done;f=d.next()){var m=f.value,v=m.value,h=m.text,O=m.group,C=t[0];if(void 0!==O&&""!==O){var y=u[O];void 0===y&&(u[O]=y=document.createElement("optgroup"),y.setAttribute("label",O)),C=y}var w=o(s.option);w.attr("value",v).text(h),C.appendChild(w[0]),void 0===l&&(l=v)}}catch(t){r={error:t}}finally{try{f&&!f.done&&(n=d.return)&&n.call(d)}finally{if(r)throw r.error}}if(void 0===l)throw new Error("firstValue cannot be undefined at this point");for(var N in u)t.append(u[N]);t.val(void 0!==e.value?e.value:l)}(c=o(u),r);break;case"checkbox":!function(t,e,r){var n,i,l=Array.isArray(e.value)?e.value:[e.value],s=void 0!==e.inputOptions?e.inputOptions:[];if(0===s.length)throw new Error("prompt with checkbox requires options");b(s);try{for(var p=a(s),c=p.next();!c.done;c=p.next()){var u=c.value,d=u.value,f=u.text,m=o(r);m.find("input").attr("value",d),m.find("label").append("\n"+f),-1!==l.indexOf(d)&&m.find("input").prop("checked",!0),t.append(m)}}catch(t){n={error:t}}finally{try{c&&!c.done&&(i=p.return)&&i.call(p)}finally{if(n)throw n.error}}}(c=o('<div class="bootprompt-checkbox-list"></div>'),r,u);break;case"radio":!function(t,e,r){var n,i,l=e.value;if(void 0!==l&&Array.isArray(l))throw new Error('prompt with radio requires a single, non-array value for "value".');var s=void 0!==e.inputOptions?e.inputOptions:[];if(0===s.length)throw new Error("prompt with radio requires options");b(s);var p=!0;try{for(var c=a(s),u=c.next();!u.done;u=c.next()){var d=u.value,f=d.value,m=d.text,v=o(r);v.find("input").attr("value",f),v.find("label").append("\n"+m),void 0!==l&&f===l&&(v.find("input").prop("checked",!0),p=!1),t.append(v)}}catch(t){n={error:t}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}p&&t.find("input[type='radio']").first().prop("checked",!0)}(c=o("<div class='bootprompt-radiobutton-list'></div>"),r,u);break;default:var d=r.inputType;throw new Error("Unknown input type: "+d)}l.cancel.callback=r.onEscape=function(){return i.call(this,null)},l.confirm.callback=function(){var t;switch(r.inputType){case"checkbox":t=c.find("input:checked").map(function(){return o(this).val()}).get();break;case"radio":t=c.find("input:checked").val();break;default:var e=c[0];if(void 0!==e.checkValidity&&!e.checkValidity())return!1;t="select"===r.inputType&&!0===r.multiple?c.find("option:selected").map(function(){return o(this).val()}).get():c.val()}return i.call(this,t)};var f=o(s.form);f.append(c);var m=r.message;"string"==typeof m&&""!==m.trim()&&f.prepend(o(s.promptMessage).html(m)),r.message=f;var h=v(r);return f.on("submit",function(t){t.preventDefault(),t.stopPropagation(),h.find(".bootprompt-accept").trigger("click")}),h.off("shown.bs.modal").on("shown.bs.modal",function(){c.focus()}),!0===n&&h.modal("show"),h},Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=bootprompt.all.min.js.map
